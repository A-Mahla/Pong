// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
	provider = "prisma-client-js"
}

datasource db {
	provider = "postgresql"
	url      = env("DATABASE_URL")
}

model User {
	id					Int	@id @default(autoincrement())
	createdAt		DateTime	@default(now())
	updatedAt		DateTime	@updatedAt
	login				String		@unique
	password		String
	avatar			String		@default("default_avatar.jpg")
	intraLogin  String?   @unique
	games				Game[]

	// temporary
	win				Int @default(0)
	loose				Int @default(0)
	nbGames				Int @default(0)
	status				String @default("conquerant")
}

// model UserInGame {
	// id					Int	@id @default(autoincrement())
	// winner			User @relation(name: "winner", fields: [winnerId], references: [id])
	// winnerId		Int
	// looser			User @relation(name: "looser", fields: [looserId], references: [id])
	// looserId		Int
// }

model Game {
	game_id			Int	@id @default(autoincrement())
	createdAt		DateTime	@default(now())
	updatedAt		DateTime	@updatedAt
	players			User[]
	winner			Int
}

